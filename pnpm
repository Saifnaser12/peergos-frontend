#!/bin/bash
# pnpm compatibility wrapper for deployment
# Routes pnpm commands to npm for environments where pnpm is not available

case "$1" in
  "run")
    shift
    case "$1" in
      "build")
        echo "Building with npm..."
        npm run build
        ;;
      "test:e2e")
        echo "Running E2E tests..."
        node package-scripts.js test:e2e
        ;;
      *)
        npm run "$@"
        ;;
    esac
    ;;
  "install")
    echo "Installing dependencies with npm..."
    npm install
    ;;
  *)
    npm "$@"
    ;;
esac