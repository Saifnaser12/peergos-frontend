#!/bin/bash

# pnpm wrapper script for deployment compatibility
# Falls back to npm when pnpm is not available

if command -v pnpm >/dev/null 2>&1; then
    exec pnpm "$@"
else
    echo "pnpm not available, falling back to npm"
    if [ "$1" = "run" ]; then
        shift
        if [ "$1" = "test:e2e" ]; then
            exec node package-scripts.js test:e2e
        else
            exec npm run "$@"
        fi
    else
        exec npm "$@"
    fi
fi